# MultiNetRouting
多网络（网卡）路由设置脚本,适用于Windows7等系统下，多网卡同时连接多网络情况下的路由设置。

## 背景介绍
我们在日常工作中，经常需要访问两个或者多个互不联通的网络。
我工作的环境中，需要访问三个网络：
- 一个公司内网，用于工作
- 一个自建局域网，用于测试开发
- 一个外网，用于资料查询

如果我们用一个网卡实现连接，需要不停的插拔网线，极不方便。

## 多网卡解决方案
为了访问多个网络，我在电脑上安装了三张网卡：
- 网卡一连接公司内网
- 网卡二连接自建局域网
- 网卡三连接外网

但是如果直接将网卡连接相应的网络，是无法实现响应网络的访问的，因为网络数据默认全部走网卡一。此时没有路由信息，我们需要手动设置。

### 网络规划
根据三个网络的IP地址特征，配置网络的路由参数，使得在同一台电脑上实现多网卡、多网络的自由访问。
- 网卡一连接的内网IP特征：10.x.x.x
- 网卡二连接的自建局域网IP特征：192.x.x.x
- 网卡三连接的外网IP特征：除以上两者以外，全部走外网

### 代码
根据网络IP地址规划，将不同网段的数据流量走相应的网卡，使得数据分流
```
@echo off
route delete 0.0.0.0
route delete 10.0.0.0
route delete 192.0.0.0
route add -p 192.0.0.0 mask 255.0.0.0 192.168.11.1 metric 10
route add -p 10.0.0.0 mask 255.0.0.0 10.106.90.126 metric 20
route add -p 0.0.0.0 mask 0.0.0.0 172.20.10.1 metric 30
pause
```

### 代码说明
- metric 表示优先级
- route /?查看相应帮助信息